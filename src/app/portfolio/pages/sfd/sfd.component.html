<section class="page-header header-filter" id="sfd">
  <div class="squares square1"></div>
  <div class="squares square2"></div>
  <div class="squares square3"></div>
  <div class="squares square4"></div>
  <div class="squares square5"></div>
  <div class="squares square6"></div>
  <div class="squares square-mobiik"></div>
  <div class="squares square-rocket"></div>
  <div class="squares square-blife"></div>
  <div class="squares square-midoconline"></div>
  <div class="squares square-skytex"></div>

  <div class="container">
    <div class="content-center brand">
      <h1 class="h1-seo font-weight-bold">SFD Documentation v3.1</h1>
      <h4 class="font-weight-normal w-100 text-base md:text-2xl">
        Syntax Functional Declarative - Lenguaje para agentes IA
        multi-plataforma
      </h4>
    </div>
  </div>
</section>

<div class="main">
  <!-- 1. Ejemplo Introductorio -->
  <div class="section" id="intro-example">
    <div class="container">
      <div class="row justify-content-center">
        <div class="col-lg-8 col-md-10">
          <h1 class="profile-title text-center text-white">
            {{ sfdContent.introExample.title }}
          </h1>
          <p class="text-center text-white mb-5">
            {{ sfdContent.introExample.description }}
          </p>

          <h2 class="text-white mb-4">Ejemplo Pr√°ctico</h2>
          <pre
            class="sfd-code mac-terminal"
          ><code>{{ sfdContent.introExample.example }}</code></pre>

          <h3 class="text-white mt-5 mb-4">Beneficios Inmediatos</h3>
          <ul class="sfd-list">
            @for (benefit of sfdContent.introExample.benefits; track $index) {
              <li>{{ benefit }}</li>
            }
          </ul>
        </div>
      </div>
    </div>
  </div>

  <!-- 2. Introducci√≥n y Justificaci√≥n -->
  <div class="section" id="introduction">
    <div class="container">
      <div class="row justify-content-center">
        <div class="col-lg-10">
          <h1 class="profile-title text-center text-white mb-5">
            {{ sfdContent.introduction.title }}
          </h1>

          <div class="row">
            <div class="col-lg-6">
              <h2 class="text-white mb-4">
                {{ sfdContent.introduction.definition.title }}
              </h2>
              @for (
                para of sfdContent.introduction.definition.content;
                track $index
              ) {
                <p class="text-white mb-4" [innerHTML]="para"></p>
              }
              <p class="sfd-highlight">
                <strong>Prop√≥sito:</strong>
                {{ sfdContent.introduction.definition.purpose }}
              </p>
            </div>
            <div class="col-lg-6">
              <h3 class="text-white mb-4">
                {{ sfdContent.introduction.justification.title }}
              </h3>
              <div class="row">
                <div class="col-md-6">
                  <h5 class="text-danger mb-3">‚ùå Problemas Actuales</h5>
                  <ul class="text-white">
                    @for (
                      problem of sfdContent.introduction.justification.problems;
                      track $index
                    ) {
                      <li class="mb-2">{{ problem }}</li>
                    }
                  </ul>
                </div>
                <div class="col-md-6">
                  <h5 class="text-success mb-3">‚úÖ Soluciones SFD</h5>
                  <ul class="text-white">
                    @for (
                      solution of sfdContent.introduction.justification
                        .solutions;
                      track $index
                    ) {
                      <li class="mb-2">{{ solution }}</li>
                    }
                  </ul>
                </div>
              </div>
            </div>
          </div>

          <div class="row justify-content-center mt-5">
            <div class="col-lg-10">
              <h3 class="text-center text-white mb-4">
                Ventajas Clave del SFD
              </h3>
              <div class="row">
                @for (
                  advantage of sfdContent.introduction.advantages;
                  track $index
                ) {
                  <div class="col-md-6 mb-3">
                    <div class="sfd-advantage-card">
                      <p class="text-white mb-0">{{ advantage }}</p>
                    </div>
                  </div>
                }
              </div>
            </div>
          </div>
        </div>
      </div>
    </div>
  </div>

  <!-- 3. An√°lisis Multi-Plataforma -->
  <div class="section" id="analysis">
    <div class="container">
      <div class="row justify-content-center">
        <div class="col-lg-10">
          <h1 class="profile-title text-center text-white mb-5">
            {{ sfdContent.analysis.title }}
          </h1>

          <div class="sfd-analysis-summary">
            <h2 class="text-center text-white mb-4">
              {{ sfdContent.analysis.summary.title }}
            </h2>
            <div class="row justify-content-center">
              @for (
                finding of sfdContent.analysis.summary.keyFindings;
                track $index
              ) {
                <div class="col-md-6 mb-3">
                  <div class="sfd-finding-card">
                    <p class="text-white mb-0">{{ finding }}</p>
                  </div>
                </div>
              }
            </div>
            <div class="row justify-content-center mt-4">
              @for (
                achievement of sfdContent.analysis.summary.achievements;
                track $index
              ) {
                <div class="col-md-6 mb-3">
                  <div class="sfd-achievement-card">
                    <p class="text-white mb-0">{{ achievement }}</p>
                  </div>
                </div>
              }
            </div>
          </div>

          <h2 class="text-center text-white mt-5 mb-4">
            M√©tricas de Rendimiento
          </h2>
          <div class="row">
            @for (
              metric of sfdContent.analysis.metrics.technical;
              track $index
            ) {
              <div class="col-md-6 mb-4">
                <div class="sfd-metric-card">
                  <h5 class="text-white mb-3">üîß T√©cnicas</h5>
                  <p class="text-white mb-0">{{ metric }}</p>
                </div>
              </div>
            }
            @for (
              metric of sfdContent.analysis.metrics.implementation;
              track $index
            ) {
              <div class="col-md-6 mb-4">
                <div class="sfd-metric-card">
                  <h5 class="text-white mb-3">‚öôÔ∏è Implementaci√≥n</h5>
                  <p class="text-white mb-0">{{ metric }}</p>
                </div>
              </div>
            }
          </div>

          <h2 class="text-center text-white mt-5 mb-4">
            Comparativa por Plataforma
          </h2>
          <div class="row">
            @for (platform of sfdContent.analysis.platforms; track $index) {
              <div class="col-lg-6 mb-4">
                <div class="sfd-platform-card">
                  <h4 class="text-white mb-3">{{ platform.title }}</h4>
                  <div class="mb-3">
                    <strong class="text-info">Formato:</strong>
                    <p class="text-white mb-2">{{ platform.format }}</p>
                  </div>
                  <div class="mb-3">
                    <strong class="text-info">Integraci√≥n:</strong>
                    <p class="text-white mb-2">{{ platform.integration }}</p>
                  </div>
                  <div class="mb-3">
                    <strong class="text-info">Herramientas:</strong>
                    <p class="text-white mb-2">{{ platform.tools }}</p>
                  </div>
                  <div class="mb-3">
                    <strong class="text-info">Arquitectura:</strong>
                    <p class="text-white mb-2">{{ platform.architecture }}</p>
                  </div>
                  <div class="row">
                    <div class="col-6">
                      <div class="text-center">
                        <div
                          class="sfd-metric-badge"
                          [ngStyle]="{
                            'background-color': platform.color,
                          }"
                        >
                          <small class="text-white">Token Reduction</small>
                          <div class="text-white font-weight-bold">
                            {{ platform.tokenReduction }}
                          </div>
                        </div>
                      </div>
                    </div>
                    <div class="col-6">
                      <div class="text-center">
                        <div
                          class="sfd-metric-badge"
                          [ngStyle]="{
                            'background-color': platform.color,
                            opacity: 0.8,
                          }"
                        >
                          <small class="text-white">Context Continuity</small>
                          <div class="text-white font-weight-bold">
                            {{ platform.contextContinuity }}
                          </div>
                        </div>
                      </div>
                    </div>
                  </div>
                </div>
              </div>
            }
          </div>
        </div>
      </div>
    </div>
  </div>

  <!-- 4. Diccionario SFD -->
  <div class="section" id="dictionary">
    <div class="container">
      <div class="row justify-content-center">
        <div class="col-lg-10">
          <h1 class="profile-title text-center text-white mb-5">
            {{ sfdContent.dictionary.title }}
          </h1>

          <div class="row">
            @for (element of sfdContent.dictionary.elements; track $index) {
              <div class="col-lg-6 mb-4">
                <div class="sfd-element-card">
                  <h4 class="text-white mb-3">{{ element.name }}</h4>
                  <p class="text-muted mb-2">{{ element.category }}</p>
                  <p class="text-white mb-3">{{ element.description }}</p>
                  <div class="sfd-code-small mac-terminal mb-3">
                    <code>{{ element.syntax }}</code>
                  </div>
                  <p class="text-info mb-2">
                    <strong>Requerido:</strong>
                    {{ element.required ? "S√≠" : "No" }}
                  </p>
                  @if (element.example) {
                    <details class="mb-3" open>
                      <summary class="text-white cursor-pointer">
                        Ver implementaci√≥n completa
                      </summary>
                      <pre
                        class="sfd-code-small mac-terminal mt-2"
                      ><code>{{ element.example }}</code></pre>
                    </details>
                  }
                  @if (element.symbols) {
                    <div class="mt-3">
                      <strong class="text-white">S√≠mbolos:</strong>
                      <div class="d-flex flex-wrap gap-1 mt-2">
                        @for (symbol of element.symbols; track $index) {
                          <span class="badge badge-secondary">{{
                            symbol
                          }}</span>
                        }
                      </div>
                    </div>
                  }
                </div>
              </div>
            }
          </div>

          <h2 class="text-center text-white mt-5 mb-4">
            S√≠mbolos y Operadores
          </h2>
          <div class="row">
            @for (symbol of sfdContent.dictionary.symbols; track $index) {
              <div class="col-md-6 mb-3">
                <div class="sfd-symbol-card">
                  <h5 class="text-white mb-2">{{ symbol.symbol }}</h5>
                  <p class="text-white small mb-1">{{ symbol.meaning }}</p>
                  <p class="text-muted small">{{ symbol.usage }}</p>
                </div>
              </div>
            }
          </div>

          <h2 class="text-center text-white mt-5 mb-4">Patrones de Dise√±o</h2>
          <div class="row">
            @for (pattern of sfdContent.dictionary.patterns; track $index) {
              <div class="col-lg-4 mb-4">
                <div class="sfd-pattern-card">
                  <h4 class="text-white mb-3">{{ pattern.name }}</h4>
                  <p class="text-white mb-3">{{ pattern.description }}</p>
                  <details>
                    <summary class="text-white cursor-pointer">
                      Ver ejemplo
                    </summary>
                    <pre
                      class="sfd-code-small mac-terminal mt-2"
                    ><code>{{ pattern.example }}</code></pre>
                  </details>
                </div>
              </div>
            }
          </div>
        </div>
      </div>
    </div>
  </div>

  <!-- 5. Documentaci√≥n T√©cnica -->
  <div class="section" id="technical-docs">
    <div class="container">
      <div class="row justify-content-center">
        <div class="col-lg-10">
          <h1 class="profile-title text-center text-white mb-5">
            {{ sfdContent.technicalDocs.title }}
          </h1>

          <div class="sfd-spec-card mb-5">
            <h2 class="text-white mb-4">
              {{ sfdContent.technicalDocs.specification.title }}
            </h2>
            <div class="row">
              <div class="col-md-3">
                <div class="sfd-spec-item">
                  <h5 class="text-white">Versi√≥n</h5>
                  <p class="text-info">
                    {{ sfdContent.technicalDocs.specification.version }}
                  </p>
                </div>
              </div>
              <div class="col-md-3">
                <div class="sfd-spec-item">
                  <h5 class="text-white">Lanzamiento</h5>
                  <p class="text-info">
                    {{ sfdContent.technicalDocs.specification.releaseDate }}
                  </p>
                </div>
              </div>
              <div class="col-md-6">
                <div class="sfd-spec-item">
                  <h5 class="text-white">Compatibilidad</h5>
                  <div class="d-flex flex-wrap gap-1">
                    @for (
                      platform of sfdContent.technicalDocs.specification
                        .compatibility;
                      track $index
                    ) {
                      <span
                        class="badge"
                        [ngStyle]="{
                          'background-color': getCompatibilityColor(platform),
                          color: 'white',
                        }"
                        >{{ platform }}</span
                      >
                    }
                  </div>
                </div>
              </div>
            </div>

            <h4 class="text-white mt-4 mb-3">Caracter√≠sticas Principales</h4>
            <div class="row">
              @for (
                feature of sfdContent.technicalDocs.specification.features;
                track $index
              ) {
                <div class="col-md-6 mb-2">
                  <div class="d-flex align-items-center">
                    <span class="text-success mr-2">‚úì</span>
                    <span class="text-white">{{ feature }}</span>
                  </div>
                </div>
              }
            </div>
          </div>

          <h2 class="text-center text-white mb-4">Arquitectura del Sistema</h2>
          <div class="row">
            @for (
              component of sfdContent.technicalDocs.architecture.components;
              track $index
            ) {
              <div class="col-lg-6 mb-4">
                <div class="sfd-arch-card">
                  <h4 class="text-white mb-3">{{ component.name }}</h4>
                  <p class="text-white mb-3">{{ component.description }}</p>
                  <div class="mb-3">
                    <strong class="text-white">Tecnolog√≠as:</strong>
                    <div class="d-flex flex-wrap gap-1 mt-2">
                      @for (tech of component.technologies; track $index) {
                        <span class="badge badge-secondary">{{ tech }}</span>
                      }
                    </div>
                  </div>
                </div>
              </div>
            }
          </div>

          <div class="sfd-flow-card mb-5">
            <h3 class="text-white mb-4">Flujo de Datos</h3>
            <div class="row justify-content-center">
              @for (
                step of sfdContent.technicalDocs.architecture.dataFlow;
                track $index
              ) {
                <div class="col-md-4 mb-3">
                  <div class="sfd-flow-step">
                    <div class="step-number">{{ $index + 1 }}</div>
                    <p class="text-white mb-0">{{ step }}</p>
                  </div>
                </div>
              }
            </div>
          </div>
        </div>
      </div>
    </div>
  </div>

  <!-- 7. Universal Agent Rules -->
  <div class="section" id="universal-agent-rules">
    <div class="container">
      <div class="row justify-content-center">
        <div class="col-lg-10">
          <h1 class="profile-title text-center text-white mb-5">
            Universal Agent Rules
          </h1>
          <p class="text-center text-white mb-4">
            Las reglas universales definen el marco operativo obligatorio para
            todos los agentes en el sistema SFD, asegurando consistencia,
            trazabilidad y eficiencia en interacciones multi-plataforma.
          </p>

          <!-- Secci√≥n 1: EXECUTION WORKFLOW -->
          <div class="col-12 mb-4">
            <h3 class="text-white mb-3">1. Execution Workflow (Mandatory)</h3>
            <p class="text-white mb-3">
              Este flujo de ejecuci√≥n establece los pasos obligatorios que todo
              agente debe seguir al procesar una solicitud. Incluye la carga de
              contextos, validaci√≥n, planificaci√≥n, ejecuci√≥n paralela,
              actualizaci√≥n de base de datos y verificaci√≥n final.
            </p>
            <p class="text-white mb-3">
              <strong>Justificaci√≥n:</strong> Garantiza que todas las
              operaciones sean rastreables y consistentes, reduciendo errores
              humanos y mejorando la calidad de las respuestas. La
              obligatoriedad asegura que ning√∫n agente omita pasos cr√≠ticos como
              la verificaci√≥n de integridad.
            </p>
            <pre
              class="sfd-code-small mac-terminal"
              [textContent]="universalExecutionWorkflow"
            ></pre>
          </div>

          <!-- Secci√≥n 2: BINDING RULES -->
          <div class="col-12 mb-4">
            <h3 class="text-white mb-3">2. Binding Rules</h3>
            <p class="text-white mb-3">
              Reglas que vinculan las acciones de los agentes a est√°ndares
              fijos, como leer CLAUDE.md antes de operar, mantener el estado en
              SQLite y usar operaciones batch para ediciones m√∫ltiples.
            </p>
            <p class="text-white mb-3">
              <strong>Justificaci√≥n:</strong> Estas reglas previenen
              inconsistencias entre agentes y plataformas. Por ejemplo, R7
              (DbFirst) asegura que el contexto de conversaci√≥n nunca sobrepase
              el estado persistente, manteniendo la integridad del sistema.
            </p>
            <pre
              class="sfd-code-small mac-terminal"
              [textContent]="universalBindingRules"
            ></pre>
          </div>

          <!-- Secci√≥n 3: DATABASE SCHEMA -->
          <div class="col-12 mb-4">
            <h3 class="text-white mb-3">3. Database Schema</h3>
            <p class="text-white mb-3">
              Esquema de base de datos SQLite con tablas para contexto de
              sesiones y notas, optimizado para trazabilidad y persistencia de
              agentes.
            </p>
            <p class="text-white mb-3">
              <strong>Justificaci√≥n:</strong> Proporciona una estructura
              estandarizada para almacenar y recuperar informaci√≥n entre
              sesiones, facilitando la auditor√≠a y la recuperaci√≥n de estados.
              La inclusi√≥n de timestamps y claves primarias asegura integridad
              de datos.
            </p>
            <pre
              class="sfd-code-small mac-terminal"
              [textContent]="universalDatabaseSchema"
            ></pre>
          </div>

          <!-- Secci√≥n 4: INSTRUCTION FILE STRUCTURE -->
          <div class="col-12 mb-4">
            <h3 class="text-white mb-3">4. Instruction File Structure</h3>
            <p class="text-white mb-3">
              Define la estructura de archivos de instrucciones como
              copilot-instructions.md, separando reglas universales (l√≠neas
              1-72) de configuraciones espec√≠ficas de proyecto.
            </p>
            <p class="text-white mb-3">
              <strong>Justificaci√≥n:</strong> Mantiene la claridad y evita
              conflictos entre reglas globales y locales. El marcador 'NOTE
              (IMPORTANT)' indica el l√≠mite, permitiendo evoluci√≥n independiente
              de cada secci√≥n.
            </p>
            <pre
              class="sfd-code-small mac-terminal"
              [textContent]="universalInstructionStructure"
            ></pre>
          </div>

          <!-- Secci√≥n 5: TASK PROTOCOL -->
          <div class="col-12 mb-4">
            <h3 class="text-white mb-3">5. Task Protocol</h3>
            <p class="text-white mb-3">
              Protocolo de 7 pasos para ejecutar tareas: cargar reglas
              universales, leer CLAUDE.md, consultar SQLite, parsear solicitud,
              validar, ejecutar en batch y actualizar base de datos.
            </p>
            <p class="text-white mb-3">
              <strong>Justificaci√≥n:</strong> Estandariza el ciclo de vida de
              cada tarea, asegurando que todas las decisiones se basen en datos
              actualizados y se registren para auditor√≠a. Esto mejora la
              predictibilidad y reduce riesgos de operaciones incompletas.
            </p>
            <pre
              class="sfd-code-small mac-terminal"
              [textContent]="universalTaskProtocol"
            ></pre>
          </div>

          <!-- Secci√≥n 6: PRECEDENCE -->
          <div class="col-12 mb-4">
            <h3 class="text-white mb-3">6. Precedence</h3>
            <p class="text-white mb-3">
              Jerarqu√≠a de fuentes: universal-rules.md tiene prioridad m√°xima,
              seguido de CLAUDE.md, copilot-instructions.md, context.sqlite y
              finalmente la solicitud del usuario.
            </p>
            <p class="text-white mb-3">
              <strong>Justificaci√≥n:</strong> Establece una cadena de autoridad
              clara para resolver conflictos. Las reglas universales son
              inmutables para garantizar consistencia global, mientras que
              fuentes locales permiten adaptaciones espec√≠ficas.
            </p>
            <pre
              class="sfd-code-small mac-terminal"
              [textContent]="universalPrecedence"
            ></pre>
          </div>

          <!-- Secci√≥n 7: FORCED AND OBLIGATORY -->
          <div class="col-12 mb-4">
            <h3 class="text-white mb-3">7. Forced and Obligatory</h3>
            <p class="text-white mb-3">
              Todas las reglas anteriores son obligatorias sin excepciones,
              asegurando cumplimiento estricto en todos los contextos.
            </p>
            <p class="text-white mb-3">
              <strong>Justificaci√≥n:</strong> La obligatoriedad previene
              desviaciones que podr√≠an comprometer la integridad del sistema
              SFD. Cualquier excepci√≥n requiere aprobaci√≥n expl√≠cita y
              documentaci√≥n detallada.
            </p>
            <pre
              class="sfd-code-small mac-terminal"
              [textContent]="universalForced"
            ></pre>
          </div>

          <!-- Markdown completo -->
          <div class="col-12 mb-4">
            <h3 class="text-white mb-3">Reglas Universales Completas</h3>
            <p class="text-white mb-3">
              A continuaci√≥n se muestra el contenido completo del archivo
              universal-agent-rules.md.
            </p>
            <pre
              class="sfd-code-small mac-terminal"
              [textContent]="universalRulesFull"
            ></pre>
          </div>

          <!-- Botones de descarga y copia -->
          <div class="col-12 text-center mt-4">
            <button
              class="btn btn-outline-light mr-2"
              (click)="downloadUniversalRules()"
            >
              Descargar Universal Agent Rules (md)
            </button>
            <button
              class="btn btn-outline-light"
              (click)="copyUniversalRules()"
            >
              Copiar al Portapapeles
            </button>
          </div>
        </div>
      </div>
    </div>
  </div>

  <!-- 6. Ejemplos de Agentes -->
  <div class="section" id="agents-examples">
    <div class="container">
      <div class="row justify-content-center">
        <div class="col-lg-10">
          <h1 class="profile-title text-center text-white mb-5">
            {{ sfdContent.agents.title }}
          </h1>

          <div class="row">
            <div class="col-lg-12 mb-5">
              <div class="sfd-agent-card">
                <h3 class="text-white mb-4">
                  {{ sfdContent.agents.fullstackAnalyzer.title }}
                </h3>
                <p class="text-white mb-4">
                  {{ sfdContent.agents.fullstackAnalyzer.description }}
                </p>
                <details class="mb-3">
                  <summary class="text-white cursor-pointer">
                    Ver implementaci√≥n completa
                  </summary>
                  <pre
                    class="sfd-code mac-terminal mt-3"
                  ><code>{{ sfdContent.agents.fullstackAnalyzer.content }}</code></pre>
                </details>
              </div>
            </div>

            <div class="col-lg-12 mb-5">
              <div class="sfd-agent-card">
                <h3 class="text-white mb-4">
                  {{ sfdContent.agents.technicalOrchestrator.title }}
                </h3>
                <p class="text-white mb-4">
                  {{ sfdContent.agents.technicalOrchestrator.description }}
                </p>
                <details class="mb-3" open>
                  <summary class="text-white cursor-pointer">
                    Ver implementaci√≥n completa
                  </summary>
                  <pre
                    class="sfd-code mac-terminal mt-3"
                  ><code>{{ sfdContent.agents.technicalOrchestrator.content }}</code></pre>
                </details>
              </div>
            </div>

            <div class="col-lg-12 mb-5">
              <div class="sfd-agent-card">
                <h3 class="text-white mb-4">
                  {{ sfdContent.agents.sfdAgentArchitect.title }}
                </h3>
                <p class="text-white mb-4">
                  {{ sfdContent.agents.sfdAgentArchitect.description }}
                </p>
                <details class="mb-3">
                  <summary class="text-white cursor-pointer">
                    Ver implementaci√≥n completa
                  </summary>
                  <pre
                    class="sfd-code mac-terminal mt-3"
                  ><code>{{ sfdContent.agents.sfdAgentArchitect.content }}</code></pre>
                </details>
              </div>
            </div>
          </div>
        </div>
      </div>
    </div>
  </div>
</div>
